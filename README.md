# 微信小程序雾霾探测系统

## 项目介绍
微信小程序雾霾探测系统是一款实时监测空气质量和天气状况的移动应用。该系统旨在帮助用户了解当前位置或所选位置的空气质量指数(AQI)和天气状况，提供健康建议，使用户能够在出行前做好准备，减轻雾霾对健康的影响。

## 功能特点
1. **实时定位**：自动获取用户当前位置，显示当地天气和空气质量数据
2. **默认位置**：当无法获取用户位置时，默认使用西安市的位置数据
3. **地点选择**：支持用户手动选择城市或具体地点(POI)，查看该地点的天气和空气质量
4. **城市搜索**：支持模糊搜索城市名称，快速切换查看不同城市的数据
5. **空气质量指数**：显示实时AQI指数及其分级，包括PM2.5、PM10、SO2、NO2、O3和CO等主要污染物数据
6. **天气信息**：提供温度、湿度、风向风速、降水等天气数据
7. **数据可视化**：使用图表直观展示温度和湿度的变化趋势
8. **健康建议**：根据空气质量指数提供相应的健康提示和防护建议

## 技术实现
本项目使用以下技术和API：

### 1. 微信小程序原生开发
- 使用微信开发者工具进行开发和调试
- 采用WXML、WXSS、JavaScript进行界面和功能开发

### 2. 定位服务
- 使用微信小程序的`wx.getLocation`API获取用户位置
- 当位置获取失败时，默认显示西安市的天气和空气质量数据
- 使用微信小程序的`wx.choosePoi`API支持用户手动选择城市或精确位置点

### 3. 数据来源
- 使用和风天气API获取实时天气和空气质量数据
- 采用专属API Host和X-QW-Api-Key认证方式提高安全性
- 实现API错误处理和备用数据机制，确保应用稳定性
- 空气质量数据包括AQI指数及各项污染物指标
- 支持通过城市搜索API实现城市名称模糊搜索功能

### 4. 数据可视化
- 使用wxCharts库实现温度和湿度的图表展示
- 实现图表标题和Y轴单位标签，提高数据可读性
- 展示未来12小时的温度和湿度预报数据，帮助用户提前规划活动
- 优化图表样式，确保图表居中显示
- 实现图表绘制的完整错误处理，保证应用稳定性
- 根据AQI指数级别使用不同颜色标识空气质量状况

## 使用说明
1. 打开微信小程序雾霾探测系统
2. 首次使用时，系统会请求获取您的位置信息，建议允许授权以获取更准确的本地数据
3. 若不授权或位置获取失败，系统将默认显示西安市的天气和空气质量数据
4. 主界面顶部显示当前城市名称，点击可进行城市搜索或选择
5. 点击"选择地点"按钮可使用微信POI选择功能，选择特定城市或精确位置点
6. 主界面展示实时天气状况、温度、湿度和空气质量指数等信息
7. 下滑可查看更多详细信息，包括各污染物浓度和健康建议
8. 温度和湿度变化趋势图可直观了解近期变化情况

## 空气质量指数(AQI)说明
空气质量指数是衡量空气污染程度的标准，下表展示了不同AQI范围对应的空气质量级别和健康影响：

| AQI范围 | 级别 | 颜色 | 健康影响 |
|--------|------|-----|---------|
| 0-50 | 优 | 绿色 | 空气质量令人满意，基本无空气污染 |
| 51-100 | 良 | 黄色 | 空气质量可接受，但某些污染物可能对极少数异常敏感人群健康有弱影响 |
| 101-150 | 轻度污染 | 橙色 | 易感人群症状有轻度加剧，健康人群可能出现刺激症状 |
| 151-200 | 中度污染 | 红色 | 进一步加剧易感人群症状，可能对健康人群心脏、呼吸系统有影响 |
| 201-300 | 重度污染 | 紫色 | 心脏病和肺病患者症状显著加剧，运动耐受力降低，健康人群普遍出现症状 |
| >300 | 严重污染 | 褐红色 | 健康人群运动耐受力降低，有明显强烈症状，提前出现某些疾病 |

## 未来规划
1. 增加空气质量历史数据查询功能
2. 添加空气质量预报功能，提前规划出行
3. 实现用户收藏多个城市位置，快速切换查看
4. 集成空气净化器控制功能，根据空气质量自动调节家用设备
5. 增加更多数据可视化图表，提供更直观的数据展示
6. 优化地点选择功能，支持历史选择记录和快速访问

## 注意事项
- 本系统需要获取位置权限才能提供最准确的数据服务
- 所有气象和空气质量数据均来自和风天气API，可能存在一定延迟
- 当API请求失败时，系统会使用模拟数据保证功能可用性
- 图表展示未来12小时的温度和湿度预报，帮助用户提前规划出行
- 建议将此系统作为参考，重大决策仍应依据官方气象和环保部门发布的信息

## 项目结构

```
├── app.js                 // 全局逻辑
├── app.json               // 全局配置
├── app.wxss               // 全局样式
├── pages                  // 页面文件夹
│   └── index              // 首页
│       ├── index.js       // 首页逻辑
│       ├── index.wxml     // 首页结构
│       └── index.wxss     // 首页样式
├── utils                  // 工具类文件夹
│   ├── api.js             // API请求工具和数据模拟
│   ├── aqiUtil.js         // 空气质量工具
│   └── wxCharts.js        // 图表工具
└── README.md              // 项目说明文档
```

## 开发者

本项目由[开发者名称]开发

## 许可证

MIT License 

## 更新日志

### 最新更新（2025年）
1. 增加了图表标题，使数据含义更明确
2. 为温度和湿度图表添加了Y轴单位标签（°C和%）及优化了轴线样式
3. 扩展图表显示范围，从7个数据点增加到12个，展示未来12小时天气预报
4. 调整了图表位置，实现居中显示
5. 改进了更新时间的显示位置和格式，添加了"数据来源：和风天气"信息
6. 添加了开发者版权信息 